/*
* Kendo UI Complete v2013.2.918 (http://kendoui.com)
* Copyright 2013 Telerik AD. All rights reserved.
*
* Kendo UI Complete commercial licenses may be obtained at
* https://www.kendoui.com/purchase/license-agreement/kendo-ui-complete-commercial.aspx
* If you do not own a commercial license, this file shall be governed by the trial license terms.
*/
!function(define){return define(["./kendo.resizable.min"],function(){!function(e,t){function n(e){return m.test(e)}function i(e){return f.test(e)||/^\d+$/.test(e)}function r(e){return!n(e)&&!i(e)}function s(e,n){return function(i,r){var s,a=this.element.find(i).data(H);return 1==arguments.length?a[e]:(a[e]=r,n&&(s=this.element.data("kendo"+this.options.name),s.trigger(x)),t)}}function a(e){var t=this,n=e.orientation;t.owner=e,t._element=e.element,t.orientation=n,h(t,n===P?l:o),t._resizable=new p.ui.Resizable(e.element,{orientation:n,handle:".k-splitbar-draggable-"+n+"[data-marker="+e._marker+"]",hint:u(t._createHint,t),start:u(t._start,t),max:u(t._max,t),min:u(t._min,t),invalidClass:"k-restricted-size-"+n,resizeend:u(t._stop,t)})}var o,l,p=window.kendo,d=p.ui,c=p.keys,h=e.extend,u=e.proxy,g=d.Widget,f=/^\d+(\.\d+)?px$/i,m=/^\d+(\.\d+)?%$/i,k=".kendoSplitter",v="expand",_="collapse",z="contentLoad",y="error",x="resize",b="layoutChange",P="horizontal",w="vertical",C="mouseenter",S="click",H="pane",T="mouseleave",A="k-state-focused",B="k-"+H,E="."+B,D=g.extend({init:function(e,t){var n,i=this;g.fn.init.call(i,e,t),i.wrapper=i.element,n=i.options.orientation.toLowerCase()!=w,i.orientation=n?P:w,i._dimension=n?"width":"height",i._keys={decrease:n?c.LEFT:c.UP,increase:n?c.RIGHT:c.DOWN},i._resizeStep=10,i.bind(x,u(i._resize,i)),i._marker=p.guid().substring(0,8),i._resizeHandler=function(){i.trigger(x)},i._initPanes(),i.resizing=new a(i),i.element.triggerHandler("init"+k)},events:[v,_,z,y,x,b],_parentSplitter:function(){return this.element.parent().closest(".k-splitter")},_attachEvents:function(){var t,n=this,i=n.options.orientation,r=n._parentSplitter();n.element.children(".k-splitbar-draggable-"+i).on("keydown"+k,e.proxy(n._keydown,n)).on("mousedown"+k,function(e){e.currentTarget.focus()}).on("focus"+k,function(t){e(t.currentTarget).addClass(A)}).on("blur"+k,function(t){e(t.currentTarget).removeClass(A),n.resizing&&n.resizing.end()}).on(C+k,function(){e(this).addClass("k-splitbar-"+n.orientation+"-hover")}).on(T+k,function(){e(this).removeClass("k-splitbar-"+n.orientation+"-hover")}).on("mousedown"+k,function(){n._panes().append("<div class='k-splitter-overlay k-overlay' />")}).on("mouseup"+k,function(){n._panes().children(".k-splitter-overlay").remove()}).end().children(".k-splitbar").on("dblclick"+k,u(n._togglePane,n)).children(".k-collapse-next, .k-collapse-prev").on(S+k,n._arrowClick(_)).end().children(".k-expand-next, .k-expand-prev").on(S+k,n._arrowClick(v)).end().end(),r.length?(t=r.data("kendo"+n.options.name),t?t.bind(x,n._resizeHandler):r.off("init"+k).one("init"+k,function(){e(this).data("kendo"+n.options.name).bind(x,n._resizeHandler),n._resizeHandler()})):e(window).on("resize",n._resizeHandler)},_detachEvents:function(){var t=this,n=t._parentSplitter().data("kendo"+t.options.name);t.element.children(".k-splitbar-draggable-"+t.orientation).off(k).end().children(".k-splitbar").off("dblclick"+k).children(".k-collapse-next, .k-collapse-prev, .k-expand-next, .k-expand-prev").off(k),n?n.unbind(x,t._resizeHandler):e(window).off("resize",t._resizeHandler)},options:{name:"Splitter",orientation:P,panes:[]},destroy:function(){var e=this;g.fn.destroy.call(e),e._detachEvents(),e.resizing&&e.resizing.destroy(),p.destroy(e.element)},_keydown:function(t){var n,i=this,r=t.keyCode,s=i.resizing,a=e(t.currentTarget),o=i._keys,l=r===o.increase,p=r===o.decrease;l||p?(t.ctrlKey?(n=a[p?"next":"prev"](),s&&s.isResizing()&&s.end(),n[i._dimension]()?i._triggerAction(_,a[p?"prev":"next"]()):i._triggerAction(v,n)):s&&s.move((p?-1:1)*i._resizeStep,a),t.preventDefault()):r===c.ENTER&&s&&(s.end(),t.preventDefault())},_initPanes:function(){var e=this,t=e.options.panes||[];e.element.addClass("k-widget").addClass("k-splitter").children(":not(script)").each(function(n,i){var r=t&&t[n];e._initPane(i,r)}).end(),e.trigger(x)},_initPane:function(t,n){t=e(t).attr("role","group").addClass(B),t.data(H,n?n:{}).toggleClass("k-scrollable",n?n.scrollable!==!1:!0),this.ajaxRequest(t)},ajaxRequest:function(e,t,n){var i,r=this;e=r.element.find(e),i=e.data(H),t=t||i.contentUrl,t&&(e.append("<span class='k-icon k-loading k-pane-loading' />"),p.isLocalUrl(t)?jQuery.ajax({url:t,data:n||{},type:"GET",dataType:"html",success:function(t){e.html(t),r.trigger(z,{pane:e[0]})},error:function(t,n){r.trigger(y,{pane:e[0],status:n,xhr:t})}}):e.removeClass("k-scrollable").html("<iframe src='"+t+"' frameborder='0' class='k-content-frame'>"+"This page requires frames in order to show content"+"</iframe>"))},_triggerAction:function(e,t){this.trigger(e,{pane:t[0]})||this[e](t[0])},_togglePane:function(t){var n,i=this,r=e(t.target);r.closest(".k-splitter")[0]==i.element[0]&&(n=r.children(".k-icon:not(.k-resize-handle)"),1===n.length&&(n.is(".k-collapse-prev")?i._triggerAction(_,r.prev()):n.is(".k-collapse-next")?i._triggerAction(_,r.next()):n.is(".k-expand-prev")?i._triggerAction(v,r.prev()):n.is(".k-expand-next")&&i._triggerAction(v,r.next())))},_arrowClick:function(t){var n=this;return function(i){var r,s=e(i.target);s.closest(".k-splitter")[0]==n.element[0]&&(r=s.is(".k-"+t+"-prev")?s.parent().prev():s.parent().next(),n._triggerAction(t,r))}},_updateSplitBar:function(e,t,n){var i=function(e,t){return t?"<div class='k-icon "+e+"' />":""},r=this.orientation,s=t.resizable!==!1&&n.resizable!==!1,a=t.collapsible,o=t.collapsed,l=n.collapsible,p=n.collapsed;e.addClass("k-splitbar k-state-default k-secondary k-splitbar-"+r).attr("role","separator").attr("aria-expanded",!(o||p)).removeClass("k-splitbar-"+r+"-hover").toggleClass("k-splitbar-draggable-"+r,s&&!o&&!p).toggleClass("k-splitbar-static-"+r,!s&&!a&&!l).html(i("k-collapse-prev",a&&!o&&!p)+i("k-expand-prev",a&&o&&!p)+i("k-resize-handle",s)+i("k-collapse-next",l&&!p&&!o)+i("k-expand-next",l&&p&&!o))},_updateSplitBars:function(){var t=this;this.element.children(".k-splitbar").each(function(){var n=e(this),i=n.prevAll(E).first().data(H),r=n.nextAll(E).first().data(H);r&&t._updateSplitBar(n,i,r)})},_removeSplitBars:function(){this.element.children(".k-splitbar").remove()},_panes:function(){return this.element.children(E)},_resize:function(){var i,s,a,o,l,p,d,c,h,u,g=this,f=g.element,m=f.children(E),k=g.orientation==P,v=f.children(".k-splitbar"),_=v.length,z=k?"width":"height",y=f[z]();0===_?(_=m.length-1,m.slice(0,_).after("<div tabindex='0' class='k-splitbar' data-marker='"+g._marker+"' />"),g._updateSplitBars(),v=f.children(".k-splitbar")):g._updateSplitBars(),v.each(function(){y-=this[k?"offsetWidth":"offsetHeight"]}),i=0,s=0,a=e(),m.css({position:"absolute",top:0})[z](function(){var o,l=e(this).data(H)||{};if(l.collapsed)o=0,e(this).css("overflow","hidden");else{if(r(l.size))return a=a.add(this),t;o=parseInt(l.size,10),n(l.size)&&(o=Math.floor(o*y/100))}return s++,i+=o,o}),y-=i,o=a.length,l=Math.floor(y/o),a.slice(0,o-1).css(z,l).end().eq(o-1).css(z,y-(o-1)*l),p=0,d=k?"height":"width",c=k?"left":"top",h=k?"offsetWidth":"offsetHeight",0===o&&(u=m.filter(function(){return!(e(this).data(H)||{}).collapsed}).last(),u[z](y+u[0][h])),f.children(":not(script)").css(d,f[d]()).each(function(e,t){t.style[c]=Math.floor(p)+"px",p+=t[h]}),g._detachEvents(),g._attachEvents(),g.trigger(b)},toggle:function(e,n){var i,r=this;e=r.element.find(e),i=e.data(H),(n||i.collapsible)&&(1==arguments.length&&(n=i.collapsed===t?!1:i.collapsed),i.collapsed=!n,i.collapsed?e.css("overflow","hidden"):e.css("overflow",""),r.trigger(x))},collapse:function(e){this.toggle(e,!1)},expand:function(e){this.toggle(e,!0)},_addPane:function(e,t,n){var i=this;return n.length&&(i.options.panes.splice(t,0,e),i._initPane(n,e),i._removeSplitBars(),i.trigger(x)),n},append:function(t){t=t||{};var n=this,i=e("<div />").appendTo(n.element);return n._addPane(t,n.options.panes.length,i)},insertBefore:function(t,n){n=e(n),t=t||{};var i=this,r=n.index(".k-pane"),s=e("<div />").insertBefore(e(n));return i._addPane(t,r,s)},insertAfter:function(t,n){n=e(n),t=t||{};var i=this,r=n.index(".k-pane"),s=e("<div />").insertAfter(e(n));return i._addPane(t,r+1,s)},remove:function(t){t=e(t);var n=this;return t.length&&(p.destroy(t),t.each(function(t,i){n.options.panes.splice(e(i).index(".k-pane"),1),e(i).remove()}),n._removeSplitBars(),n.options.panes.length&&n.trigger(x)),n},size:s("size",!0),min:s("min"),max:s("max")});d.plugin(D),o={sizingProperty:"height",sizingDomProperty:"offsetHeight",alternateSizingProperty:"width",positioningProperty:"top",mousePositioningProperty:"pageY"},l={sizingProperty:"width",sizingDomProperty:"offsetWidth",alternateSizingProperty:"height",positioningProperty:"left",mousePositioningProperty:"pageX"},a.prototype={press:function(e){this._resizable.press(e)},move:function(e,t){this.pressed||(this.press(t),this.pressed=!0),this._resizable.target||this._resizable.press(t),this._resizable.move(e)},end:function(){this._resizable.end(),this.pressed=!1},destroy:function(){this._resizable.destroy()},isResizing:function(){return this._resizable.resizing},_createHint:function(t){var n=this;return e("<div class='k-ghost-splitbar k-ghost-splitbar-"+n.orientation+" k-state-default' />").css(n.alternateSizingProperty,t[n.alternateSizingProperty]())},_start:function(t){var n=this,r=e(t.currentTarget),s=r.prev(),a=r.next(),o=s.data(H),l=a.data(H),p=parseInt(s[0].style[n.positioningProperty],10),d=parseInt(a[0].style[n.positioningProperty],10)+a[0][n.sizingDomProperty]-r[0][n.sizingDomProperty],c=parseInt(n._element.css(n.sizingProperty),10),h=function(e){var t=parseInt(e,10);return(i(e)?t:c*t/100)||0},u=h(o.min),g=h(o.max)||d-p,f=h(l.min),m=h(l.max)||d-p;n.previousPane=s,n.nextPane=a,n._maxPosition=Math.min(d-f,p+g),n._minPosition=Math.max(p+u,d-m)},_max:function(){return this._maxPosition},_min:function(){return this._minPosition},_stop:function(t){var n,i,s,a,o,l,d,c,h=this,u=e(t.currentTarget),g=h.owner;return g._panes().children(".k-splitter-overlay").remove(),t.keyCode!==p.keys.ESC&&(n=t.position,i=u.prev(),s=u.next(),a=i.data(H),o=s.data(H),l=n-parseInt(i[0].style[h.positioningProperty],10),d=parseInt(s[0].style[h.positioningProperty],10)+s[0][h.sizingDomProperty]-n-u[0][h.sizingDomProperty],c=h._element.children(E).filter(function(){return r(e(this).data(H).size)}).length,(!r(a.size)||c>1)&&(r(a.size)&&c--,a.size=l+"px"),(!r(o.size)||c>1)&&(o.size=d+"px"),g._resizeHandler()),!1}}}(window.kendo.jQuery)})}("function"==typeof define&&define.amd?define:function(e,t){return t()});